{"openapi":"3.1.0","info":{"title":"OpenK9 RAG API","description":"API for Retrieval-Augmented Generation (RAG) operations and chat interactions","contact":{"name":"OpenK9 Support","email":"dev@openk9.io"},"license":{"name":"GNU Affero General Public License v3.0","url":"https://github.com/smclab/openk9/blob/main/LICENSE"},"version":"3.1.0-SNAPSHOT"},"paths":{"/":{"get":{"summary":"Redirect Root To Docs","operationId":"redirect_root_to_docs__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/rag/generate":{"post":{"tags":["RAG"],"summary":"Generate RAG-powered search results","description":"Processes a complex search query with multiple parameters and returns results\n    via Server-Sent Events stream. Supports faceted search, suggestions, and vector-based retrieval.","operationId":"rag_generate_api_rag_generate_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."},{"name":"openk9_acl","in":"header","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Access control list for tenant resources.","example":"[\"group:admins\", \"project:openk9\"]","title":"Openk9 Acl"},"description":"Access control list for tenant resources."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"},"examples":{"Basic Example":{"summary":"A basic example with minimal fields","value":{"searchQuery":[{"entityType":"","entityName":"","tokenType":"TEXT","keywordKey":"","values":["value"],"extra":{},"filter":true}],"range":[],"searchText":"What is OpenK9?"}},"Advanced Example":{"summary":"An advanced example with all fields","value":{"searchQuery":[{"entityType":"","entityName":"","tokenType":"TEXT","keywordKey":"","values":["value"],"extra":{},"filter":true}],"range":[],"afterKey":"page_2","suggestKeyword":"OpenK9","suggestionCategoryId":1,"extra":{"filter":["example"]},"sort":["field1:asc"],"sortAfterKey":"sort-key","language":"it_IT","searchText":"What is OpenK9?","reformulate":true}}}}}},"responses":{"200":{"description":"Stream of search results in SSE format","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"422":{"description":"Validation Error - Invalid request body or parameters","content":{"application/json":{"example":{"detail":[{"loc":["body","searchText"],"msg":"field required","type":"value_error.missing"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}}},"/api/rag/chat":{"post":{"tags":["RAG"],"summary":"Chat with RAG system","description":"Streaming endpoint for RAG-powered chat interactions using Server-Sent Events (SSE)","operationId":"rag_chat_api_rag_chat_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."},{"name":"openk9_acl","in":"header","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Access control list for tenant resources.","example":"[\"group:admins\", \"project:openk9\"]","title":"Openk9 Acl"},"description":"Access control list for tenant resources."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQueryChat"},"examples":{"Basic Example":{"summary":"A basic example with minimal fields","value":{"searchText":"What is OpenK9?","timestamp":"1731928126578","chatSequenceNumber":1}},"Advanced Example":{"summary":"An advanced example with all fields","value":{"searchText":"What is OpenK9?","timestamp":"1731928126578","chatSequenceNumber":1,"retrieveCitations":true,"rerank":false,"chunk_window":false,"range":[0,5],"chatId":"chat-456","afterKey":"some-key","suggestKeyword":"OpenK9","suggestionCategoryId":1,"extra":{"filter":["example"]},"sort":["field1:asc"],"sortAfterKey":"sort-key","language":"en"}},"Example for not logged users, first question":{"summary":"An example for not logged users, first question","value":{"searchText":"Che cos’è la garanzia Infortuni del Conducente?","chatSequenceNumber":1,"timestamp":"1731928126578","chatHistory":[]}},"Example for not logged users, third question":{"summary":"An example for not logged users, third question","value":{"searchText":"quanto vale?","chatSequenceNumber":3,"timestamp":"1731928126578","chatHistory":[{"question":"Che cos’è la garanzia Infortuni del Conducente?","answer":"La garanzia Infortuni del Conducente è una garanzia accessoria offerta da AXA che protegge il conducente in caso di invalidità permanente o, nei casi più gravi, indennizza gli eredi in caso di morte mentre si guida il veicolo assicurato. Inoltre, l'estensione della garanzia copre anche le spese mediche sostenute a seguito di un infortunio.","title":"","sources":[{"title":"Assicurazione Infortuni Conducente | AXA","url":"https://www.axa.it/assicurazione-infortuni-del-conducente","citations":[]},{"title":"Garanzie Accessorie Assicurazione Veicoli | AXA","url":"https://www.axa.it/garanzie-accessorie-per-veicoli","citations":[]}],"chat_id":"1740389549494","timestamp":"1740389552570","chat_sequence_number":1},{"question":"a cosa porta?","answer":"La garanzia Infortuni del Conducente porta i seguenti benefici:\n\n1. **Spese Mediche**: Copertura delle spese mediche in caso di infortunio durante la guida.\n2. **Indennizzo per Incidenti Gravi**: Sicurezza economica in caso di incidenti gravi che comportano invalidità permanente.\n3. **Tutela della Salute del Conducente**: Protezione per la salute del guidatore e dei passeggeri, offrendo supporto in situazioni di emergenza.\n\nIn generale, questa garanzia offre una protezione aggiuntiva rispetto all'assicurazione obbligatoria RC auto, garantendo maggiore tranquillità al conducente.","title":"","sources":[{"title":"Assicurazione Infortuni Conducente | AXA - AXA.it - AXA","url":"https://www.axa.it/assicurazione-infortuni-del-conducente","citations":[{"quote":"La garanzia accessoria Infortuni del Conducente è una garanzia che rafforza la tua polizza assicurativa che protegge auto, moto, ciclomotore, quadriciclo o autocarro da eventi non coperti dall’assicurazione obbligatoria RC. Sei coperto anche se ti fermi a causa di un guasto o incidente e ti fai male durante le operazioni per riprendere la marcia o mentre segnali un pericolo ad altri conducenti. E non solo, sono inclusi anche gli infortuni dovuti a malore, incoscienza, asfissia, annegamento, assideramento o congelamento."},{"quote":"Grazie alla garanzia Infortuni del Conducente, ho potuto affrontare la situazione con serenità."}]},{"title":"Assicurazione auto online: la tua polizza su misura | AXA - AXA.it - AXA","url":"https://www.axa.it/assicurazione-auto","citations":[]}],"chat_id":"1740389549494","timestamp":"1731928126578","chat_sequence_number":2}]}}}}}},"responses":{"200":{"description":"Stream of chat events in SSE format","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"422":{"description":"Validation Error - Invalid request body or parameters","content":{"application/json":{"example":{"detail":[{"loc":["body","searchText"],"msg":"field required","type":"value_error.missing"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}}},"/api/rag/chat-tool":{"post":{"tags":["RAG"],"summary":"Chat with RAG system","description":"Streaming endpoint for RAG-powered chat interactions using Server-Sent Events (SSE)","operationId":"rag_chat_tool_api_rag_chat_tool_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."},{"name":"openk9_acl","in":"header","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Access control list for tenant resources.","example":"[\"group:admins\", \"project:openk9\"]","title":"Openk9 Acl"},"description":"Access control list for tenant resources."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQueryChat"},"examples":{"Basic Example":{"summary":"A basic example with minimal fields","value":{"searchText":"What is OpenK9?","timestamp":"1731928126578","chatSequenceNumber":1}},"Advanced Example":{"summary":"An advanced example with all fields","value":{"searchText":"What is OpenK9?","timestamp":"1731928126578","chatSequenceNumber":1,"retrieveCitations":true,"rerank":false,"chunk_window":false,"range":[0,5],"chatId":"chat-456","afterKey":"some-key","suggestKeyword":"OpenK9","suggestionCategoryId":1,"extra":{"filter":["example"]},"sort":["field1:asc"],"sortAfterKey":"sort-key","language":"en"}},"Example for not logged users, first question":{"summary":"An example for not logged users, first question","value":{"searchText":"Che cos’è la garanzia Infortuni del Conducente?","chatSequenceNumber":1,"timestamp":"1731928126578","chatHistory":[]}},"Example for not logged users, third question":{"summary":"An example for not logged users, third question","value":{"searchText":"quanto vale?","chatSequenceNumber":3,"timestamp":"1731928126578","chatHistory":[{"question":"Che cos’è la garanzia Infortuni del Conducente?","answer":"La garanzia Infortuni del Conducente è una garanzia accessoria offerta da AXA che protegge il conducente in caso di invalidità permanente o, nei casi più gravi, indennizza gli eredi in caso di morte mentre si guida il veicolo assicurato. Inoltre, l'estensione della garanzia copre anche le spese mediche sostenute a seguito di un infortunio.","title":"","sources":[{"title":"Assicurazione Infortuni Conducente | AXA","url":"https://www.axa.it/assicurazione-infortuni-del-conducente","citations":[]},{"title":"Garanzie Accessorie Assicurazione Veicoli | AXA","url":"https://www.axa.it/garanzie-accessorie-per-veicoli","citations":[]}],"chat_id":"1740389549494","timestamp":"1740389552570","chat_sequence_number":1},{"question":"a cosa porta?","answer":"La garanzia Infortuni del Conducente porta i seguenti benefici:\n\n1. **Spese Mediche**: Copertura delle spese mediche in caso di infortunio durante la guida.\n2. **Indennizzo per Incidenti Gravi**: Sicurezza economica in caso di incidenti gravi che comportano invalidità permanente.\n3. **Tutela della Salute del Conducente**: Protezione per la salute del guidatore e dei passeggeri, offrendo supporto in situazioni di emergenza.\n\nIn generale, questa garanzia offre una protezione aggiuntiva rispetto all'assicurazione obbligatoria RC auto, garantendo maggiore tranquillità al conducente.","title":"","sources":[{"title":"Assicurazione Infortuni Conducente | AXA - AXA.it - AXA","url":"https://www.axa.it/assicurazione-infortuni-del-conducente","citations":[{"quote":"La garanzia accessoria Infortuni del Conducente è una garanzia che rafforza la tua polizza assicurativa che protegge auto, moto, ciclomotore, quadriciclo o autocarro da eventi non coperti dall’assicurazione obbligatoria RC. Sei coperto anche se ti fermi a causa di un guasto o incidente e ti fai male durante le operazioni per riprendere la marcia o mentre segnali un pericolo ad altri conducenti. E non solo, sono inclusi anche gli infortuni dovuti a malore, incoscienza, asfissia, annegamento, assideramento o congelamento."},{"quote":"Grazie alla garanzia Infortuni del Conducente, ho potuto affrontare la situazione con serenità."}]},{"title":"Assicurazione auto online: la tua polizza su misura | AXA - AXA.it - AXA","url":"https://www.axa.it/assicurazione-auto","citations":[]}],"chat_id":"1740389549494","timestamp":"1731928126578","chat_sequence_number":2}]}}}}}},"responses":{"200":{"description":"Stream of chat events in SSE format","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"422":{"description":"Validation Error - Invalid request body or parameters","content":{"application/json":{"example":{"detail":[{"loc":["body","searchText"],"msg":"field required","type":"value_error.missing"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}}},"/api/rag/user-chats":{"post":{"tags":["Chat"],"summary":"Retrieve user chat history","description":"Fetches paginated chat history for a specific user","operationId":"get_user_chats_api_rag_user_chats_post","parameters":[{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserChats"},"examples":{"Basic Example":{"summary":"A basic example with minimal fields","value":{}},"Advanced Example":{"summary":"An advanced example with all fields","value":{"chatSequenceNumber":1,"paginationFrom":0,"paginationSize":10}}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rag/chat/{chat_id}":{"get":{"tags":["Chat"],"summary":"Retrieve user specific chat","description":"Fetches user complete conversation history for a specific chat_id","operationId":"get_chat_api_rag_chat__chat_id__get","parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"422":{"description":"Validation Error - Invalid request parameters or structure","content":{"application/json":{"example":{"detail":[{"loc":["path","chat_id"],"msg":"field required","type":"value_error.missing"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}},"delete":{"tags":["Chat"],"summary":"Delete a specific chat conversation","description":"Permanently removes all messages and metadata associated with a specific chat_id","operationId":"delete_chat_api_rag_chat__chat_id__delete","parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"404":{"description":"Requested resource not found","content":{"application/json":{"examples":{"user_not_found":{"value":{"detail":"User index not found"}},"chat_not_found":{"value":{"detail":"No messages found for specified chat"}}}}}},"422":{"description":"Invalid request parameters or structure","content":{"application/json":{"example":{"detail":[{"loc":["path","chat_id"],"msg":"value is not a valid chat id","type":"type_error.uuid"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}},"patch":{"tags":["Chat"],"summary":"Rename a specific chat conversation","description":"Updates the title of a specific chat conversation using the provided new title","operationId":"rename_chat_api_rag_chat__chat_id__patch","parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}},{"name":"authorization","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Bearer token for authentication.","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"x_forwarded_host","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Original host header from the client request, typically used in reverse proxy setups.","example":"example.com","title":"X Forwarded Host"},"description":"Original host header from the client request, typically used in reverse proxy setups."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessage"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized - Invalid token.","content":{"application/json":{"example":{"detail":"Invalid or expired token"}}}},"403":{"description":"Forbidden - Insufficient permissions or access denied","content":{"application/json":{"example":{"detail":"Access denied for this resource"}}}},"404":{"description":"Requested resource not found","content":{"application/json":{"examples":{"user_not_found":{"value":{"detail":"User index not found"}},"chat_not_found":{"value":{"detail":"Chat document not found"}}}}}},"422":{"description":"Invalid request parameters or structure","content":{"application/json":{"example":{"detail":[{"loc":["path","chat_id"],"msg":"value is not a valid chat id","type":"type_error.uuid"}]}}}},"500":{"description":"Internal Server Error - Unexpected server-side error","content":{"application/json":{"example":{"detail":"An unexpected error occurred"}}}}}}},"/health":{"get":{"tags":["Health Checks"],"summary":"Check the health status of the Rag module","description":"Returns the current health status of the Rag module.","operationId":"get_health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ChatMessage":{"properties":{"newTitle":{"type":"string","maxLength":100,"minLength":1,"title":"Newtitle","description":"New title for the chat conversation","example":"Project Discussion"}},"type":"object","required":["newTitle"],"title":"ChatMessage","description":"Represents the payload for updating a chat conversation title.\n\nAttributes:\n    newTitle: The new title to assign to the chat conversation"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"SearchQuery":{"properties":{"searchQuery":{"items":{"$ref":"#/components/schemas/SearchToken"},"type":"array","title":"Searchquery","description":"List of search tokens"},"range":{"items":{},"type":"array","title":"Range","description":"Range filter as [start, end]","example":[0,10]},"afterKey":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Afterkey","description":"Pagination key for subsequent requests","example":"page_2"},"suggestKeyword":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggestkeyword","description":"Partial keyword for suggestion autocomplete","example":"OpenK9"},"suggestionCategoryId":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Suggestioncategoryid","description":"Category ID to filter suggestions","example":1},"extra":{"anyOf":[{"additionalProperties":{"items":{},"type":"array"},"type":"object"},{"type":"null"}],"title":"Extra","description":"Additional filter parameters","example":{"filter":["example"]}},"sort":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Sort","description":"Sorting criteria with field:direction format","example":["field1:asc"]},"sortAfterKey":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sortafterkey","description":"Pagination key for sorted results","example":"sort-key"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language code for localized results","example":"it_IT"},"searchText":{"type":"string","title":"Searchtext","description":"Primary search text input","example":"What is OpenK9?"},"reformulate":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reformulate","description":"Enable query reformulation","default":true,"example":true}},"type":"object","required":["searchQuery","range","searchText"],"title":"SearchQuery","description":"Represents a search query with various parameters for filtering, sorting, and pagination."},"SearchQueryChat":{"properties":{"chatId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chatid","description":"Unique identifier for chat session","example":"chat_abc123def456"},"range":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Range","description":"Result window range as [offset, limit]","default":[0,5],"example":[0,5]},"afterKey":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Afterkey","description":"Pagination key for subsequent requests","example":"page_2"},"suggestKeyword":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggestkeyword","description":"Partial keyword for suggestion autocomplete","example":"OpenK9"},"suggestionCategoryId":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Suggestioncategoryid","description":"Category ID to filter suggestions","example":1},"extra":{"anyOf":[{"additionalProperties":{"items":{},"type":"array"},"type":"object"},{"type":"null"}],"title":"Extra","description":"Additional filter parameters","example":{"filter":["example"]}},"sort":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Sort","description":"Sorting criteria with field:direction format","example":["field1:asc"]},"sortAfterKey":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sortafterkey","description":"Pagination key for sorted results","example":"sort-key"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language code for localized results","example":"it_IT"},"searchText":{"type":"string","title":"Searchtext","description":"Primary search text input","example":"What is OpenK9?"},"chatHistory":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Chathistory","description":"Previous chat messages in conversation","example":[{"answer":"La garanzia Infortuni del Conducente è una garanzia accessoria offerta da AXA che protegge il conducente in caso di invalidità permanente o, nei casi più gravi, indennizza gli eredi in caso di morte mentre si guida il veicolo assicurato. Inoltre, l'estensione della garanzia copre anche le spese mediche sostenute a seguito di un infortunio.","chat_id":"1740389549494","chat_sequence_number":1,"question":"Che cos’è la garanzia Infortuni del Conducente?","sources":[{"citations":[],"title":"Assicurazione Infortuni Conducente | AXA","url":"https://www.axa.it/assicurazione-infortuni-del-conducente"},{"citations":[],"title":"Garanzie Accessorie Assicurazione Veicoli | AXA","url":"https://www.axa.it/garanzie-accessorie-per-veicoli"}],"timestamp":"1740389552570","title":"Spiegazione della Garanzia Infortuni del Conducente di AXA"}]},"timestamp":{"type":"string","title":"Timestamp","description":"Timestamp of request","example":"1740389552570"},"chatSequenceNumber":{"type":"integer","title":"Chatsequencenumber","description":"Incremental conversation turn number","example":3}},"type":"object","required":["searchText","timestamp","chatSequenceNumber"],"title":"SearchQueryChat","description":"SearchQueryChat class model."},"SearchToken":{"properties":{"tokenType":{"type":"string","title":"Tokentype","description":"Type of the search token"},"keywordKey":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywordkey","description":"Keyword key for the token","default":"","example":""},"values":{"items":{"type":"string"},"type":"array","title":"Values","description":"List of values for the token"},"filter":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Filter","description":"Whether this token is used for filtering","default":false,"example":false},"entityType":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Entitytype","description":"Type of entity for the token","default":"","example":""},"entityName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Entityname","description":"Name of the entity for the token","default":"","example":""},"extra":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Extra","description":"Additional metadata for the token","default":{},"example":{}}},"type":"object","required":["tokenType","values"],"title":"SearchToken","description":"SearchToken class model."},"UserChats":{"properties":{"chatSequenceNumber":{"type":"integer","title":"Chatsequencenumber","description":"Incremental conversation turn number","default":1,"example":1},"paginationFrom":{"type":"integer","title":"Paginationfrom","description":"Pagination start index","default":0,"example":0},"paginationSize":{"type":"integer","title":"Paginationsize","description":"Number of items per page","default":10,"example":10}},"type":"object","title":"UserChats","description":"Model for retrieving user chat history."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"RAG","description":"Endpoints for Retrieval-Augmented Generation operations"},{"name":"Chat","description":"Endpoints for fetch chat history"}]}